---
# vars file for kubeadm
kubeadm_compatible_os_distros:
  - debian
  - redhat

kubeadm_hardwares_min_requirements:
  ram: 2
  cpu: 2

kubeadm_array_config: []
_kubeadm_config: |
  {{
    kubeadm_array_config |
    combine(kubeadm_bootsrap_tokens_config, list_merge='append') |
    combine(kubeadm_node_registration_config, list_merge='append') |
    combine(kubeadm_etcd_config, list_merge='append') |
    combine(kubeadm_networking_config, list_merge='append') |
    combine(kubeadm_apiserver_config, list_merge='append') |
    combine(kubeadm_controllermanager_config, list_merge='append') |
    combine(kubeadm_scheduler_config, list_merge='append') |
    combine(kubeadm_kubelet_config, list_merge='append') |
    combine(kubeadm_join_config, list_merge='append')
  }}

kubeadm_init_phase_control_plane_files:
  - manifests/kube-apiserver.yaml
  - manifests/kube-controller-manager.yaml
  - manifests/kube-scheduler.yaml

kubeadm_kubelet_files:
  - /var/lib/kubelet/kubeadm-flags.env
  - /var/lib/kubelet/config.yaml
